/* ─────────────────────────  Core palette & type  ───────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Source+Sans+Pro:wght@400;600&display=swap');

:root{
  --primary-color:#14213d;
  --secondary-color:#e63946;
  --accent-color:#fca311;
  --light-bg:#f1faee;
  --dark-text:#1d3557;
  --light-text:#f1faee;
  --success-color:#2a9d8f;
  --border-radius:12px;
  --box-shadow:0 8px 30px rgba(0,0,0,.12);
  --transition:.3s ease;
}

body{
  font-family:'Source Sans Pro',sans-serif;
  background:var(--light-bg);
  color:var(--dark-text);
  font-size:18px;
  line-height:1.8;
  margin:0;
}

/* ─────────────────────────────  Header  ───────────────────────────── */
.header{
  background:linear-gradient(135deg,var(--primary-color),#2c5282);
  color:var(--light-text);
  padding:30px 20px 20px;
  text-align:center;
  position:relative;
  box-shadow:var(--box-shadow);
}

.header h1{
  font-family:'Playfair Display',serif;
  margin:0;
  font-size:2.5rem;
  letter-spacing:1px;
  text-shadow:2px 2px 4px rgba(0,0,0,.2);
}

.profile-icon{
  position:absolute;
  top:20px;right:20px;
  font-size:24px;
  color:var(--light-text);
  background:rgba(255,255,255,.2);
  padding:10px;
  border-radius:50%;
  transition:var(--transition);
}
.profile-icon:hover{transform:scale(1.1);background:rgba(255,255,255,.3);}

/* progress / XP */
.progress-bar{
  background:rgba(255,255,255,.3);
  height:12px;border-radius:20px;
  margin:20px auto;width:80%;
  overflow:hidden;
  box-shadow:inset 0 1px 3px rgba(0,0,0,.2);
}
.progress{
  background:var(--accent-color);
  width:0;height:100%;
  border-radius:inherit;
  transition:width .8s cubic-bezier(.22,.61,.36,1);
}
#level-display{font-weight:600;margin-top:10px;font-size:17px;opacity:.9}

/* ─────────────────────────────  Layout  ───────────────────────────── */
.container{
  width:70%;max-width:900px;
  margin:30px auto;
  background:#fff;
  padding:40px;
  border-radius:var(--border-radius);
  box-shadow:var(--box-shadow);
}
@media(max-width:768px){
  .container{width:95%;padding:25px;}
}

/* ───────────────────────  Amendment card & story  ─────────────────────── */
.amendment-card{
  border-left:6px solid var(--primary-color);
  background:rgba(241,250,238,.3);
  padding:25px;margin-bottom:30px;
  border-radius:0 var(--border-radius) var(--border-radius) 0;
  transition:var(--transition);
}
.amendment-card:hover{transform:translateY(-5px);box-shadow:0 5px 15px rgba(0,0,0,.1);}

h2{
  font-family:'Playfair Display',serif;
  color:var(--primary-color);
  font-size:2.2rem;
  margin:0 0 10px;
  border-bottom:3px solid var(--accent-color);
  display:inline-block;
}
h3{color:var(--primary-color);font-weight:600;margin:30px 0 15px;font-size:1.4rem;}

.amendment-story{
  background:linear-gradient(to right,rgba(252,163,17,.15),rgba(252,163,17,.3));
  border-left:6px solid var(--secondary-color);
  padding:35px 30px 30px 80px;
  margin:35px 0 30px;
  border-radius:var(--border-radius);
  position:relative;
  box-shadow:0 8px 25px rgba(0,0,0,.1);
  transition:transform .3s,box-shadow .3s;
}
.amendment-story:hover{transform:translateY(-5px);box-shadow:0 12px 30px rgba(0,0,0,.15);}
.story-icon{
  position:absolute;left:20px;top:35px;
  width:45px;height:45px;line-height:45px;
  font-size:24px;border-radius:50%;
  background:rgba(255,255,255,.7);
  color:var(--secondary-color);text-align:center;
  box-shadow:0 3px 8px rgba(0,0,0,.1);
}
.amendment-story-image{
  display:block;max-width:100%;max-height:600px;
  margin:0 auto 20px;
  border-radius:var(--border-radius);
  box-shadow:0 5px 15px rgba(0,0,0,.1);
  object-fit:contain;
  transition:transform .3s,box-shadow .3s;
}
.amendment-story-image:hover{transform:scale(1.02);box-shadow:0 8px 20px rgba(0,0,0,.15);}
@media(min-width:768px){.amendment-story-image{max-width:80%;}}

.full-text{
  background:linear-gradient(to right,rgba(241,250,238,.7),rgba(241,250,238,.9));
  border-left:5px solid var(--accent-color);
  padding:30px;margin:25px 0;
  font-style:italic;font-size:1.1rem;
  border-radius:var(--border-radius);
  box-shadow:0 4px 15px rgba(0,0,0,.05);
  position:relative;
}
.full-text::before{
  content:open-quote;
  position:absolute;left:10px;top:-15px;
  font-size:60px;font-family:serif;
  color:rgba(20,33,61,.1);
}

/* ───────────────────────────  Infographic  ─────────────────────────── */
.infographic{
  display:flex;flex-wrap:wrap;justify-content:space-around;
  background:linear-gradient(to right,#f8f9fa,#e9ecef);
  margin:35px 0;padding:30px 20px;
  border-radius:var(--border-radius);
  box-shadow:0 4px 15px rgba(0,0,0,.05);
}
.icon{
  width:18%;min-width:100px;
  padding:15px 10px;margin-bottom:20px;
  display:flex;flex-direction:column;align-items:center;
  border-radius:var(--border-radius);
  transition:var(--transition);
}
.icon:hover{transform:translateY(-8px);background:rgba(255,255,255,.7);box-shadow:0 5px 15px rgba(0,0,0,.08);}
.icon i{
  width:80px;height:80px;line-height:80px;
  font-size:48px;margin-bottom:12px;
  border-radius:50%;
  background:rgba(252,163,17,.2);color:var(--primary-color);
  transition:var(--transition);
}
.icon:hover i{background:var(--accent-color);color:#fff;transform:rotate(5deg);}
.icon span{font-weight:600;color:var(--dark-text);}
@media(max-width:768px){.icon{width:30%}.icon i{width:60px;height:60px;font-size:30px;line-height:60px;}}

/* ────────────────────────  Home‑page cards  ──────────────────────── */
.amendment-card-home{
  background:#fff;padding:25px;
  border-top:5px solid var(--primary-color);
  border-radius:var(--border-radius);
  text-align:center;
  box-shadow:0 5px 15px rgba(0,0,0,.05);
  transition:var(--transition);
  display:flex;flex-direction:column;justify-content:space-between;height:100%;
}
.amendment-card-home:hover{transform:translateY(-10px);box-shadow:0 15px 30px rgba(0,0,0,.1);border-top-color:var(--accent-color);}
.amendment-icon{display:flex;justify-content:center;margin:0 auto 15px;}
.amendment-icon i{
  width:70px;height:70px;line-height:70px;
  font-size:32px;border-radius:50%;
  background:rgba(252,163,17,.15);color:var(--primary-color);
  transition:var(--transition);text-align:center;
}
.amendment-card-home:hover .amendment-icon i{background:var(--accent-color);color:#fff;transform:rotate(5deg) scale(1.1);}

/* ──────────────────────────  Fun‑fact box  ────────────────────────── */
.fun-fact{
  background:linear-gradient(to right,rgba(252,163,17,.1),rgba(252,163,17,.2));
  border-left:5px solid var(--accent-color);
  padding:25px 30px;margin:30px 0;
  border-radius:var(--border-radius);
  box-shadow:0 4px 15px rgba(0,0,0,.05);
}
.fun-fact:before{content:"Did you know?";display:block;margin-bottom:12px;font-weight:700;color:var(--primary-color);}

/* ───────────────────  Quiz / Scenario / Reflection  ────────────────── */
.quiz-section,.scenario,#reflection-section{
  padding:20px;margin-top:25px;
  border-radius:var(--border-radius);
  box-shadow:0 4px 15px rgba(0,0,0,.05);
  position:relative;
}
.quiz-section{background:linear-gradient(to right,rgba(42,157,143,.1),rgba(42,157,143,.2));border-top:5px solid var(--success-color);}
.scenario{background:linear-gradient(to right,rgba(65,90,119,.1),rgba(65,90,119,.2));border-top:5px solid #415a77;}
#reflection-section{background:linear-gradient(to right,rgba(138,43,226,.05),rgba(138,43,226,.15));border-top:5px solid #8a2be2;}

.quiz-section::before,.scenario::before,#reflection-section::before{
  font-family:'Font Awesome 6 Free';font-weight:900;
  position:absolute;right:20px;top:15px;opacity:.2;font-size:30px;
}
.quiz-section::before{content:"\f059";color:var(--success-color);}
.scenario::before{content:"\f46d";color:#415a77;}
#reflection-section::before{content:"\f5b5";color:#8a2be2;}

/* buttons */
.btn{
  background:var(--primary-color);color:#fff;
  padding:12px 25px;margin:8px;
  border:none;border-radius:50px;
  font-size:16px;font-weight:600;
  cursor:pointer;overflow:hidden;
  transition:var(--transition);box-shadow:0 4px 10px rgba(20,33,61,.2);
  position:relative;
}
.btn:hover:not(:disabled){background:#2c5eaa;transform:translateY(-3px);box-shadow:0 6px 15px rgba(20,33,61,.25);}
.btn:active:not(:disabled){transform:translateY(1px);box-shadow:0 2px 5px rgba(20,33,61,.2);}
.btn:before{
  content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);
  transition:.5s;
}
.btn:hover:before{left:100%;}
.btn:disabled{background:#ccc;cursor:not-allowed;box-shadow:none;}
#next-button{background:var(--success-color);}
#next-button:hover:not(:disabled){background:#218a7e;}

.quiz-options label{
  display:inline-block;
  margin:6px 10px 6px 0;padding:8px 12px;
  background:rgba(255,255,255,.7);
  border-radius:var(--border-radius);
  font-size:16px;cursor:pointer;transition:var(--transition);
  border-left:2px solid transparent;box-shadow:0 2px 5px rgba(0,0,0,.05);
}
.quiz-options label:hover{background:#fff;transform:translateX(3px);border-left-color:var(--primary-color);box-shadow:0 3px 10px rgba(0,0,0,.08);}
.quiz-options input[type="radio"]:checked+label{background:#fff;border-left-color:var(--primary-color);font-weight:600;}

.scenario-options{
  display:flex;flex-wrap:wrap;justify-content:center;gap:15px;
  margin:20px 0;padding:20px;
  background:linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.9));
  border-radius:var(--border-radius);
}
.scenario-options button{
  min-width:180px;padding:15px 25px;
  background:#fff;border:2px solid var(--primary-color);
  color:var(--primary-color);font-weight:600;
  border-radius:var(--border-radius);cursor:pointer;
  transition:var(--transition);box-shadow:0 2px 5px rgba(0,0,0,.05);
}
.scenario-options button:hover{transform:translateY(-5px);background:var(--primary-color);color:#fff;box-shadow:0 5px 15px rgba(0,0,0,.1);}

/* results / feedback */
.quiz-results,.scenario-feedback{
  display:none;margin-top:15px;padding:15px;font-size:16px;
  border-radius:var(--border-radius);animation:fadeIn .5s ease;
  box-shadow:0 4px 15px rgba(0,0,0,.05);
}
.quiz-results{background:rgba(42,157,143,.1);border-left:4px solid var(--success-color);}
.scenario-feedback{background:rgba(65,90,119,.1);border-left:4px solid #415a77;}

/* XP badge & retry */
.xp-badge{
  position:fixed;bottom:25px;right:25px;z-index:1000;
  background:var(--accent-color);color:var(--dark-text);
  padding:12px 20px;border:2px solid rgba(255,255,255,.3);
  border-radius:50px;font-weight:600;font-size:16px;
  box-shadow:0 4px 20px rgba(0,0,0,.15);transition:var(--transition);
}
.xp-badge:hover{transform:scale(1.05) rotate(2deg);box-shadow:0 6px 25px rgba(0,0,0,.2);}

.retry-message{
  position:fixed;bottom:80px;right:25px;z-index:1000;
  background:var(--accent-color);color:var(--dark-text);
  padding:12px 20px;border-radius:var(--border-radius);
  box-shadow:0 4px 20px rgba(0,0,0,.15);font-weight:600;
  opacity:0;animation:fadeIn .5s forwards,fadeOut .5s 4.5s forwards;
}

/* navigation */
.navigate{display:flex;justify-content:space-between;margin-top:40px;padding-top:20px;border-top:1px solid #e9ecef;}
@media(max-width:768px){.navigate{flex-direction:column}.navigate .btn{margin-bottom:10px;}}

/* ───────────────  Plain‑English collapsibles & notes  ─────────────── */
.plain-summary-container{
  background:linear-gradient(to right,#f7f9fc,#edf2f7);
  border-top:5px solid var(--accent-color);
  padding:25px;margin:30px 0;
  border-radius:var(--border-radius);box-shadow:0 5px 20px rgba(0,0,0,.05);
}
.plain-summary-title{
  font-family:'Playfair Display',serif;
  text-align:center;color:var(--primary-color);
  font-size:1.6rem;margin-bottom:25px;padding-bottom:15px;
  border-bottom:2px dashed rgba(20,33,61,.2);
}

.amendment-detail{
  margin-bottom:15px;background:#fff;border-radius:var(--border-radius);
  box-shadow:0 3px 10px rgba(0,0,0,.05);transition:transform .3s,box-shadow .3s;
}
.amendment-detail:hover{transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,0,0,.1);}
.amendment-detail summary{
  cursor:pointer;font-weight:600;padding:15px;display:flex;align-items:center;
  border-radius:var(--border-radius);position:relative;outline:0;
}
.amendment-detail summary::-webkit-details-marker{display:none;}
.amendment-detail summary i{
  width:40px;height:40px;line-height:40px;margin-right:12px;
  font-size:20px;border-radius:50%;
  background:rgba(252,163,17,.15);color:var(--primary-color);
  display:flex;align-items:center;justify-content:center;
}
.amendment-detail summary:after{
  content:'+';position:absolute;right:15px;top:50%;transform:translateY(-50%);
  width:30px;height:30px;display:flex;align-items:center;justify-content:center;
  border-radius:50%;background:rgba(20,33,61,.05);font-size:1.2rem;
  transition:var(--transition);
}
.amendment-detail[open] summary:after{content:'−';background:rgba(20,33,61,.1);}

.detail-content{padding:5px 15px 15px 65px;border-radius:0 0 var(--border-radius) var(--border-radius);}
.detail-content p{display:flex;align-items:flex-start;margin:10px 0;line-height:1.5;}
.detail-content p i{margin-right:10px;margin-top:3px;flex-shrink:0;}
.detail-content .fa-check-circle{color:var(--success-color);}
.detail-content .fa-exclamation-circle{color:var(--secondary-color);}
.detail-content .fa-info-circle{color:var(--accent-color);}
.detail-content .fa-lightbulb{color:#ff9800;}

/* colour‑coded subsections (1st Amendment) */
.religion-detail summary{border-left:5px solid #9c27b0}
.speech-detail   summary{border-left:5px solid #2196f3}
.press-detail    summary{border-left:5px solid #4caf50}
.assembly-detail summary{border-left:5px solid #ff9800}
.petition-detail summary{border-left:5px solid #f44336}

.religion-detail summary i{background:rgba(156,39,176,.15);color:#9c27b0}
.speech-detail   summary i{background:rgba(33,150,243,.15);color:#2196f3}
.press-detail    summary i{background:rgba(76,175,80,.15);color:#4caf50}
.assembly-detail summary i{background:rgba(255,152,0,.15);color:#ff9800}
.petition-detail summary i{background:rgba(244,67,54,.15);color:#f44336}

/* Notes / key‑points */
#key-points{margin:30px 0;}
.note-box{
  background:#fff;
  border-radius:var(--border-radius);
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  margin-bottom:30px;
  transition:transform .3s,box-shadow .3s;
}
.note-box:hover{transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,.12);}
.note-box.warning{border:2px solid var(--secondary-color);background:linear-gradient(to right,rgba(230,57,70,.05),rgba(230,57,70,.1));}
.note-title{background:#f0f5ff;color:var(--primary-color);font-weight:600;padding:15px 20px;font-size:1.1rem;border-left:4px solid var(--primary-color);}
.note-title.warning{
  background:rgba(230,57,70,.15);color:var(--secondary-color);
  border-left-color:var(--secondary-color);padding-left:50px;position:relative;
}
.note-title.warning::before{
  content:"!";position:absolute;left:15px;top:50%;transform:translateY(-50%);
  width:24px;height:24px;border-radius:50%;
  background:var(--secondary-color);color:#fff;font-weight:700;display:flex;align-items:center;justify-content:center;
  box-shadow:0 2px 5px rgba(230,57,70,.4);
}
.note-content{padding:20px 25px;font-size:1.05rem;line-height:1.7;color:var(--dark-text);}
.note-content.warning{background:rgba(255,255,255,.9);border-top:1px solid rgba(230,57,70,.2);}

/* info pop‑ups */
.info-display{
  display:none;background:#fff;border-left:4px solid var(--primary-color);
  padding:20px 25px;margin-top:15px;border-radius:var(--border-radius);
  box-shadow:0 4px 15px rgba(0,0,0,.05);
  animation:fadeIn .5s ease;
}

/* basic type tweaks */
p{margin-bottom:1.2rem}strong{color:var(--primary-color);}

/* reflection textarea */
#reflection-text{
  width:100%;min-height:120px;padding:15px;
  border:1px solid #e1e1e1;border-radius:var(--border-radius);
  font-size:16px;resize:vertical;box-shadow:inset 0 1px 3px rgba(0,0,0,.1);
  transition:var(--transition);
}
#reflection-text:focus{outline:0;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(20,33,61,.1);}

/* ────────────────────────────  Animations  ──────────────────────────── */
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
@keyframes fadeOut{from{opacity:1;}to{opacity:0;}}
